{% extends "base.html" %}
{% block title %}בגדי ילדים{% endblock %}

{% block content %}
<div class="container py-4" dir="rtl">

  <h2 class="mb-4 text-center text-success fw-bold">🧒 בגדי ילדים</h2>

  <!-- סינון לפי סוג פריט -->
  <form method="get" class="mb-4 d-flex justify-content-center">
    <div class="input-group w-auto">
      <label class="input-group-text">סנן לפי סוג</label>
      <select name="category" class="form-select" onchange="this.form.submit()">
        <option value="">הצג הכל</option>
        {% for key, val in categories.items() %}
          <option value="{{ key }}" {% if selected_category == key %}selected{% endif %}>{{ val }}</option>
        {% endfor %}
      </select>
    </div>
  </form>

  <!-- מוצרים -->
  <div class="row g-4">
    {% for p in products %}
      <div class="col-6 col-md-3">
        <div class="card h-100 shadow-sm border-0">
          <div style="aspect-ratio:1/1;background:#f8f9fa;">
            <img src="{{ p.image_url }}" class="card-img-top" alt="{{ p.name }}" style="object-fit:cover;width:100%;height:100%;">
          </div>
          <div class="card-body text-center">
            <h6 class="card-title text-truncate fw-semibold" title="{{ p.name }}">{{ p.name }}</h6>
            <div class="fw-bold text-success mb-2">₪{{ '%.2f'|format(p.price) }}</div>
            <a href="/products/{{ p.id }}" class="btn btn-outline-success btn-sm w-100">לפרטים</a>
          </div>
        </div>
      </div>
    {% else %}
      <div class="col-12"><div class="alert alert-info text-center">אין מוצרים להצגה.</div></div>
    {% endfor %}
  </div>
</div>
{% endblock %}
